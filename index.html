<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
        
        
       var geemailsLength = window.geemails.length;	//test geemail length
        console.log(geemails.length);    
        var geemailsLoaded = document.getElementsByClassName ("contentHide");
        console.log (geemailsLoaded.length);
        


          function createDate ( arr ) {
          for (var i=geemails.length-geemailsLoaded.length; i<arr.length; i++) {
            //console.log( arr[i].date);
            var datePush = document.createElement('li');
            datePush.className = "content";
            datePush.innerHTML = arr[i].date;
            date.appendChild (datePush);
            
            }
    }
        createDate (window.geemails);



        function createSubject ( arr ) {
          for (var i=geemails.length-geemailsLoaded.length; i<arr.length; i++) {
            var subjectPush = document.createElement ('li');
            subjectPush.className = 'content';
            subjectPush.innerHTML = arr[i].subject;
            subject.appendChild (subjectPush);
          }
        }
        createSubject(window.geemails);

        function createSender ( arr ) {
          for (var i=geemails.length-geemailsLoaded.length; i<arr.length; i++) {
            var senderPush = document.createElement ('li');
            senderPush.className = 'content';
            senderPush.innerHTML = arr[i].sender;
            sender.appendChild (senderPush);
          }
        }
        createSender (window.geemails);
      

        function createBody ( arr ) {
          for (var i=geemails.length-geemailsLoaded.length; i<arr.length; i++) {
            var bodyPush = document.createElement ('li');
            bodyPush.className = "contentHide";
            bodyPush.innerHTML = arr[i].body;
            body.appendChild (bodyPush);
          }
        }
      
        createBody (window.geemails);


        function gen ( ) {
          if (geemails.length>geemailsLoaded.length){
            createDate(window.geemails);
            createSender(window.geemails);
            createSubject(window.geemails);
            createBody(window.geemails);  
        } else {
          console.log ('fuck');
        }

      }
      
      console.log(geemails.length);
      console.log(geemailsLoaded.length);


      gen();

      console.log(geemails.length);
      console.log(geemailsLoaded.length);

      gen();






      };
    </script>
	</head>
	<body>
		<div class="container" id="main">
     <!--  <span  class = "content" >Date:<div id="date">today</div></span>
     <span  class="content">Sender:</span>
     <span  class = "content">Subject:</span>
     <span  class = "contentHide">Body:</span> -->
	   

      <table>
          <thead>
            <tr class ='content'>date</tr>
            <tr class ='content'>sub</tr>
            <tr class ='content'>sender</tr>
            <tr class ='contentHide'>body</tr>
              <td><ul id = 'date'></ul></td>
              <td><ul id = 'subject'></ul></td>
              <td><ul id = 'sender'></ul></td>
              <td><ul id = 'body'></ul></td>
        </table>

        






  </body>
</html>


