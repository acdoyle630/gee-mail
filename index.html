<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
        // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
        
        
       var geemailsLength = window.geemails.length;	//test geemail length
        console.log(geemails.length);    
        var geemailsLoaded = document.getElementsByClassName ("why");
        console.log (geemailsLoaded.length);



        for (var i=0; i<10; i++) {
          var date = document.createElement ('span');
          date.className = 'when';
          date.innerHTML = window.geemails[i].date;
          main.appendChild (date);
          var send = document.createElement ('span');
          send.className = 'who';
          send.innerHTML = window.geemails[i].sender;
          main.appendChild (send);
          var sub = document.createElement ('span');
          sub.className = 'what';
          sub.innerHTML = window.geemails[i].subject;
          main.appendChild (sub);
          var bodyButton = document.createElement ('button');
          bodyButton.className = 'button';
          bodyButton.innerHTML = 'Show Body:';
          sub.appendChild (bodyButton);
          var bod = document.createElement ('span');
          bod.className = 'why';
          bod.innerHTML = window.geemails[i].body;
          sub.appendChild (bod);
        }
        



        function generate (arr) { 
          var newDate = document.createElement ('span');
          newDate.className = 'when';
          newDate.innerHTML = arr[Math.floor(Math.random ()*10)].date;
          main.appendChild (newDate);
          var newSend = document.createElement ('span');
          newSend.className = 'who';
          newSend.innerHTML = arr[Math.floor(Math.random() *10)].sender;
          main.appendChild(newSend);
          var newSub = document.createElement ('span');
          newSub.className ='what';
          newSub.innerHTML = arr[Math.floor(Math.random()*10)].subject;
          main.appendChild (newSub);
          var newButton = document.createElement ('button');
          newButton.className = 'button';
          newButton.innerHTML = 'Show Body:';
          newSub.appendChild (newButton);
          var newBody = document.createElement ('span');
          newBody.className = 'why';
          newBody.innerHTML = arr[Math.floor(Math.random()*10)].body;
          newSub.appendChild (newBody);
        }

        setInterval(generate(window.geemails), 3000);

        var hideBody = document.getElementsByClassName ('what');
          for (i=0; i<hideBody.length; i++) {
            //console.log (hideBody[i]);
            hideBody[i].addEventListener ('click', hide);
        }
      
        function hide ( ) {
          var elem = this.querySelectorAll('.why')[0];
          if (elem.style.display === 'none') {
            elem.style.display = 'block';
          } else {
            elem.style.display = 'none';
          }
        }




        var inbox = document.createElement ('span');
        inbox.id = "mails";
        inbox.innerHTML = geemailsLoaded.length;
        count.appendChild (inbox);




      };
    </script>
  </head>
  <body>
    <div id="count">Messages:</div><br>
    <div class="container" id="main">
     <!--  <span  class = "content" >Date:<div id="date">today</div></span>
     <span  class="content">Sender:</span>
     <span  class = "content">Subject:</span>
     <span  class = "contentHide">Body:</span> -->
     

      
        


     <!--  <button onclick="setInterval(generate(window.geemails), 3000)";> "fuck" </button> -->



  </body>
</html>


